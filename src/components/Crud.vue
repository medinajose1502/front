<template>
  <div>
    <b-card>
    <b-form @submit.prevent="agregarP">
      <b-form-group id="input-group-1" label="C贸digo:" label-for="input-1" 
      description="C贸digo del producto.">
        <b-form-input id="input-1" v-model="producto.id" type="text" placeholder="Ingrese c贸digo"></b-form-input>
      </b-form-group>

      <b-form-group id="input-group-1" label="Nombre:" label-for="input-1" 
      description="Nombre del producto.">
        <b-form-input id="input-1" v-model="producto.nombre" type="text" placeholder="Ingrese nombre"></b-form-input>
      </b-form-group>

      <b-form-group id="input-group-3" label="Categoria:" label-for="input-3">
        <b-form-select id="input-3" v-model="producto.categoria" :options="categorias"></b-form-select>
      </b-form-group>

      <b-form-group id="input-group-1" label="Precio" label-for="input-1" 
      description="Precio del producto.">
        <b-form-input id="input-1" v-model.number="producto.precio" type="text" placeholder="Ingrese el precio"></b-form-input>
      </b-form-group>

      <b-button type="reset" variant="danger">Limpiar</b-button>
      <br>
      <br>
      <b-button type="submit" action="onSubmit" variant="primary">Agregar producto</b-button>
    </b-form>
    </b-card>
  </div>
</template>


<script>
export default {
  data: function()
  {
    return{
      producto:
      {
        id: '',
        nombre: '',
        categoria: '',
        precio: null
      },
      errores: [],
      categorias: ['Celulares', 'Monitores', 'Computadoras', 'Software'],
    }
  },
  methods: {
    agregarP()
    {
      if(this.id && this.nombre && this.categoria && this.precio && this.img)
      {
        this.errores = []
        let productoAgregado = 
        {
          id: this.id,
          nombre: this.nombre,
          categoria: this.categoria,
          precio: this.precio
        }
        this.$emit('producto-registrado', productoAgregado)
      }
      else
      {
          if(this.id == '') this.errores.push("Debe ingresar un c贸digo.")
          if(this.nombre == '') this.errores.push("Debe ingresar un nombre para el producto.")
          if(this.categoria == '') this.errores.push("Debe selecciona una categoria.")
          if(this.precio == null) this.errores.push("Debe ingresar un precio.")
      }
    }/*,
    onReset()
    {
      this.id = null
      this.nombre = null
      this.categoria = null
      this.precio = null
    }*/
  }
}
</script>

<style>

</style>